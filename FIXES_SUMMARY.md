# 修复和更新总结

## 修复的问题

### 1. ✅ 默认输出目录修复

**问题**: 输出目录默认直接使用原图片目录，导致输出文件与原图片混在一起

**修复**: 默认输出目录改为原图片目录下的 `SuperStarTrail` 子目录

**修改的文件**:
- `src/ui/panels/file_list_panel.py` - 第119行
- `src/ui/main_window.py` - 第93行、第556行

**示例**:
```
原图片目录: /Users/Photos/2024-01-01/
默认输出目录: /Users/Photos/2024-01-01/SuperStarTrail/
```

**行为**:
- ✅ 选择图片文件夹后，自动设置输出目录为 `{原目录}/SuperStarTrail/`
- ✅ 用户仍可手动修改输出目录
- ✅ 输出文件与原图片分离，更加整洁

### 2. ✅ 应用名称修改

**原名称**: 
- 中文: 超级星轨 SuperStarTrail
- 英文: SuperStarTrail

**新名称**:
- 中文: 彗星星轨
- 英文: Comet Star Trail

**修改的文件**:
- `src/i18n/translations.py`
  - 第9行: 中文应用名称
  - 第81行: 中文关于菜单
  - 第240行: 英文应用名称
  - 第312行: 英文关于菜单

**影响范围**:
- ✅ 窗口标题: "彗星星轨 by James Zhen Yu"
- ✅ 关于对话框: "关于 彗星星轨"
- ✅ 应用内所有引用

## 目录结构示例

```
/Users/Photos/2024-01-01/
├── IMG_0001.CR2  (原图片)
├── IMG_0002.CR2
├── IMG_0003.CR2
└── SuperStarTrail/  (输出目录，自动创建)
    ├── IMG_0001-0100_Lighten_CameraWB.tif
    ├── Timelapse_IMG_0001-0100_Lighten_25FPS.mp4  (如果启用星迹延时)
    └── SimpleTimelapse_IMG_0001-0100_CameraWB_25FPS.mp4  (如果启用传统延时)
```

## 用户体验改善

### 修复前
```
选择文件夹: /Users/Photos/2024-01-01/
输出目录: /Users/Photos/2024-01-01/  ❌ 与原图混在一起
```

### 修复后
```
选择文件夹: /Users/Photos/2024-01-01/
输出目录: /Users/Photos/2024-01-01/SuperStarTrail/  ✅ 独立子目录
```

## 测试验证

```bash
# 测试应用名称
✅ 应用名称: 彗星星轨

# 测试导入
✅ 所有导入成功

# 测试输出目录
选择图片文件夹 → 自动设置输出目录为 "{原目录}/SuperStarTrail/"
```

## 兼容性

- ✅ 不影响现有功能
- ✅ 用户仍可手动选择输出目录
- ✅ 向后兼容
- ✅ 不破坏已有的工作流程

## 总结

这次更新主要解决了两个问题：

1. **输出目录管理** - 输出文件自动保存到独立的子目录，避免与原图混在一起
2. **品牌统一** - 应用名称统一为"彗星星轨"，与项目定位更加契合

这两个修复都提升了用户体验，使软件更加专业和易用。
